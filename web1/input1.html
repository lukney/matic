<!--
Author: W3layouts
Author URL: http://w3layouts.com
License: Creative Commons Attribution 3.0 Unported
License URL: http://creativecommons.org/licenses/by/3.0/
-->
<!DOCTYPE HTML>
<html>
<head>
<title>Pooled Admin Panel Category Flat Bootstrap Responsive Web Template | Input :: w3layouts</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Pooled Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template, 
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- Bootstrap Core CSS -->
<link href="css/bootstrap.min.css" rel='stylesheet' type='text/css' />
<!-- Custom CSS -->
<link href="css/style.css" rel='stylesheet' type='text/css' />
<link rel="stylesheet" href="css/morris.css" type="text/css"/>
<!-- Graph CSS -->
<link href="css/font-awesome.css" rel="stylesheet"> 
<!-- jQuery -->
<script src="js/jquery-2.1.4.min.js"></script>
<!-- //jQuery -->
<link href='//fonts.googleapis.com/css?family=Roboto:700,500,300,100italic,100,400' rel='stylesheet' type='text/css'/>
<link href='//fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
<!-- lined-icons -->
<link rel="stylesheet" href="css/icon-font.min.css" type='text/css' />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
<!-- //lined-icons -->
</head> 
<body>
<div ng-app="my-app">
		  <div ng-controller="my-controller">
	
   <div class="page-container">
   <!--/content-inner-->
<div class="left-content">
	   <div class="mother-grid-inner">
              <!--header start here-->
				<div class="header-main">
					<div class="logo-w3-agile">
								<h4><a href="#" ng-click="home()">Finance Matic</a></h4>
							</div>
					<div class="w3layouts-left">
							
							<!--search-box-->
								<div class="w3-search-box">
									<form action="#" method="post">
										<input type="text" placeholder="Search..." required="">	
										<input type="submit" value="">					
									</form>
								</div><!--//end-search-box-->
							<div class="clearfix"> </div>
						 </div>
						 <div class="w3layouts-right">
							<div class="profile_details_left"><!--notifications of menu start -->
								<ul class="nofitications-dropdown">
									<li class="dropdown head-dpdn">
										<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fa fa-envelope"></i><span class="badge">3</span></a>
										<ul class="dropdown-menu">
											<li>
												<div class="notification_header">
													<h3>You have 3 new messages</h3>
												</div>
											</li>
											<li><a href="#">
											   <div class="user_img"><img src="images/in11.jpg" alt=""></div>
											   <div class="notification_desc">
												<p>Lorem ipsum dolor</p>
												<p><span>1 hour ago</span></p>
												</div>
											   <div class="clearfix"></div>	
											</a></li>
											<li class="odd"><a href="#">
												<div class="user_img"><img src="images/in10.jpg" alt=""></div>
											   <div class="notification_desc">
												<p>Lorem ipsum dolor </p>
												<p><span>1 hour ago</span></p>
												</div>
											  <div class="clearfix"></div>	
											</a></li>
											<li><a href="#">
											   <div class="user_img"><img src="images/in9.jpg" alt=""></div>
											   <div class="notification_desc">
												<p>Lorem ipsum dolor</p>
												<p><span>1 hour ago</span></p>
												</div>
											   <div class="clearfix"></div>	
											</a></li>
											<li>
												<div class="notification_bottom">
													<a href="#">See all messages</a>
												</div> 
											</li>
										</ul>
									</li>
									<li class="dropdown head-dpdn">
										<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fa fa-bell"></i><span class="badge blue">3</span></a>
										<ul class="dropdown-menu">
											<li>
												<div class="notification_header">
													<h3>You have 3 new notification</h3>
												</div>
											</li>
											<li><a href="#">
												<div class="user_img"><img src="images/in8.jpg" alt=""></div>
											   <div class="notification_desc">
												<p>Lorem ipsum dolor</p>
												<p><span>1 hour ago</span></p>
												</div>
											  <div class="clearfix"></div>	
											 </a></li>
											 <li class="odd"><a href="#">
												<div class="user_img"><img src="images/in6.jpg" alt=""></div>
											   <div class="notification_desc">
												<p>Lorem ipsum dolor</p>
												<p><span>1 hour ago</span></p>
												</div>
											   <div class="clearfix"></div>	
											 </a></li>
											 <li><a href="#">
												<div class="user_img"><img src="images/in7.jpg" alt=""></div>
											   <div class="notification_desc">
												<p>Lorem ipsum dolor</p>
												<p><span>1 hour ago</span></p>
												</div>
											   <div class="clearfix"></div>	
											 </a></li>
											 <li>
												<div class="notification_bottom">
													<a href="#">See all notifications</a>
												</div> 
											</li>
										</ul>
									</li>	
									<li class="dropdown head-dpdn">
										<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fa fa-tasks"></i><span class="badge blue1">9</span></a>
										<ul class="dropdown-menu">
											<li>
												<div class="notification_header">
													<h3>You have 8 pending task</h3>
												</div>
											</li>
											<li><a href="#">
												<div class="task-info">
													<span class="task-desc">Database update</span><span class="percentage">40%</span>
													<div class="clearfix"></div>	
												</div>
												<div class="progress progress-striped active">
													<div class="bar yellow" style="width:40%;"></div>
												</div>
											</a></li>
											<li><a href="#">
												<div class="task-info">
													<span class="task-desc">Dashboard done</span><span class="percentage">90%</span>
												   <div class="clearfix"></div>	
												</div>
												<div class="progress progress-striped active">
													 <div class="bar green" style="width:90%;"></div>
												</div>
											</a></li>
											<li><a href="#">
												<div class="task-info">
													<span class="task-desc">Mobile App</span><span class="percentage">33%</span>
													<div class="clearfix"></div>	
												</div>
											   <div class="progress progress-striped active">
													 <div class="bar red" style="width: 33%;"></div>
												</div>
											</a></li>
											<li><a href="#">
												<div class="task-info">
													<span class="task-desc">Issues fixed</span><span class="percentage">80%</span>
												   <div class="clearfix"></div>	
												</div>
												<div class="progress progress-striped active">
													 <div class="bar  blue" style="width: 80%;"></div>
												</div>
											</a></li>
											<li>
												<div class="notification_bottom">
													<a href="#">See all pending tasks</a>
												</div> 
											</li>
										</ul>
									</li>	
									<div class="clearfix"> </div>
								</ul>
								<div class="clearfix"> </div>
							</div>
							<!--notification menu end -->
							
							<div class="clearfix"> </div>				
						</div>
						<div class="profile_details w3l">		
								<ul>
									<li class="dropdown profile_details_drop">
										<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
											<div class="profile_img">	
                                                <div class="user-name">
													
												</div>
												<i class="fa fa-angle-down"></i>
												<i class="fa fa-angle-up"></i>
												<div class="clearfix"></div>	
											</div>	
										</a>
										<ul class="dropdown-menu drp-mnu">
											<li> <a href="#"><i class="fa fa-cog"></i> Settings</a> </li> 
											<li> <a href="" ng-click="logout()"><i class="fa fa-sign-out"></i> Logout</a> </li>
										</ul>
									</li>
								</ul>
							</div>
							
				     <div class="clearfix"> </div>	
				</div>
<!--heder end here-->
	<ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#" ng-click="home()">Home</a><i class="fa fa-angle-right"></i>Loan Amount <i class="fa fa-angle-right"></i>Page</li>
      <div>{{newuser}} </div>     </ol>
		<!--grid-->
 	<div class="grid-form">
 	
<!----->

<!---->

<!---->



<!---->
  <div class="grid-form1">
  	       <h3>Loan Page</h3>
  	         <div class="tab-content">
						<div class="tab-pane active" id="horizontal-form">
							  
         <form class="form-horizontal">
								<div class="form-group">
									<label for="focusedinput" class="col-sm-2 control-label">Loan Amount</label>
									<div class="col-sm-8">
										<input type="text" class="form-control1" ng-model="loan_amount" id="focusedinput" placeholder="Amount">
									</div>
								</div>
								<div class="form-group">
									<label for="focusedinput" class="col-sm-2 control-label">Start Date</label>
									<div class="col-sm-8">
										 <input type="date" ng-model="startdate" class="form-control1 " >
									</div>
								</div>
								<div class="form-group">
									<label for="focusedinput" class="col-sm-2 control-label">End Date</label>
									<div class="col-sm-8">
										 <input type="date" ng-model="enddate" class="form-control1 ">
									</div>
								</div>
								<div class="form-group">
									<label for="focusedinput" class="col-sm-2 control-label">Installement Type</label>
									<div class="col-sm-8">
										<select  ng-model="installementtype">
										  <option value="">Select type</option>
										 <option value="monthly">Monthly</option>
										  <option value="daily">Daily</option>
										  <option value="weekly">Weekly</option>
										  <option value="biweekly">Bi-Weekly</option>
										   <option value="bimonthly">Bi-Monthly</option>
										  <option value="quaterly">Quarterly</option>
										  <option value="halfyearly">Half Yearly</option>
										  <option value="yearly">Yearly</option>		  
										</select>
										  
									</div>
								</div>
								<div class="form-group">
									<label for="focusedinput" class="col-sm-2 control-label">No of Installment</label>
									<div class="col-sm-8">
										<input type="text" ng-model="noofinstallement" class="form-control1" id="focusedinput" placeholder="I%">
									</div>
								</div>
							    <div class="form-group">
									<label for="focusedinput" class="col-sm-2 control-label">Installement Amount</label>
									<div class="col-sm-8">
										<input type="text" class="form-control1" ng-model="installement_amount" id="focusedinput" >
									</div>
								</div>
								
								<div class="form-group">
									<label for="focusedinput" class="col-sm-2 control-label">Rate of Interest</label>
									<div class="col-sm-8">
										<input type="text" ng-model="interest" class="form-control1" id="focusedinput">
									</div>
								</div>
								<div class="form-group">
									<label for="focusedinput" class="col-sm-2 control-label"></label>
									<div class="col-sm-8">
										<input type="hidden" ng-model="cid" class="form-control1" id="focusedinput">
									</div>
								</div>
								
								
								<div class="form-group">
									<label for="focusedinput" class="col-sm-2 control-label">Total RePay Amount</label>
									<div class="col-sm-8">
										<input type="text" ng-model="trepayamount" class="form-control1" id="focusedinput" placeholder="amount">
									</div>
								</div>
							    
								 <div class="form-group">
								 <div class="bs-example" data-example-id="form-validation-states"></div>
                                 <div class="bs-example" data-example-id="form-validation-states-with-icons">
                                 <span id="inputGroupSuccess1Status" class="sr-only">(success)</span>
                                 </div>
								 <div class="col-sm-8 col-sm-offset-2">
								 <button ng-click="createLoan()"  type="submit" class="btn-primary btn">Submit</button>
										<button class="btn-default btn">Cancel</button>
										<button class="btn-inverse btn">Reset</button>
										</div>
								 </div>
								   </form>
                                  <h1>{{annunity}}</h1>
						</div>
					</div>
					
					<div class="bs-example" data-example-id="form-validation-states">
  
  </div>
 
	<div class="bs-example" data-example-id="form-validation-states-with-icons">
   
	 
  </div>
 	</div>
	</div>
	</div>
 	<!--//grid-->

<!-- script-for sticky-nav -->
		<script>
		$(document).ready(function() {
			 var navoffeset=$(".header-main").offset().top;
			 $(window).scroll(function(){
				var scrollpos=$(window).scrollTop(); 
				if(scrollpos >=navoffeset){
					$(".header-main").addClass("fixed");
				}else{
					$(".header-main").removeClass("fixed");
				}
			 });
			 
		});
		</script>
		<!-- /script-for sticky-nav -->
<!--inner block start here-->
<div class="inner-block">

</div>
<!--inner block end here-->
<!--copy rights start here-->
<div class="copyrights">
	 <p>© 2016 Pooled . All Rights Reserved | Design by  <a href="http://w3layouts.com/" target="_blank">W3layouts</a> </p>
</div>	
<!--COPY rights end here-->
</div>
</div>
  <!--//content-inner-->
		<!--/sidebar-menu-->
				<div class="sidebar-menu">
					<header class="logo1">
						<a href="#" class="sidebar-icon"> <span class="fa fa-bars"></span> </a> 
					</header>
						<div style="border-top:1px ridge rgba(255, 255, 255, 0.15)"></div>
                           <div class="menu">
									<ul id="menu" >
											<li><a href="main-page1.html"><i class="fa fa-tachometer"></i> <span>Dashboard</span><div class="clearfix"></div></a></li>
										
										
										  <li id="menu-academico" ><a href="report3.html"><i class="material-icons" >report</i><span>Report</span><div class="clearfix"></div></a></li>
									<li><a href="try.html"><i class="fa fa-address-book" ></i><span>New User</span><div class="clearfix"></div></a></li>
									<li id="menu-academico" ><a href="expenses1.html"><i class="material-icons" >money</i><span>expediture</span><div class="clearfix"></div></a></li>
									 <li id="menu-academico" ><a href="customer.html"><i class="material-icons" >list</i><span>Customer List</span><div class="clearfix"></div></a>
										   
										</li>
									
									
									
								  </ul>
								</div>
							  </div>
							  <div class="clearfix"></div>		
							</div>
							<script>
							var toggle = true;
										
							$(".sidebar-icon").click(function() {                
							  if (toggle)
							  {
								$(".page-container").addClass("sidebar-collapsed").removeClass("sidebar-collapsed-back");
								$("#menu span").css({"position":"absolute"});
							  }
							  else
							  {
								$(".page-container").removeClass("sidebar-collapsed").addClass("sidebar-collapsed-back");
								setTimeout(function() {
								  $("#menu span").css({"position":"relative"});
								}, 400);
							  }
											
											toggle = !toggle;
										});
							</script>
<!--js -->

<script src="js/jquery.nicescroll.js"></script>
<script src="js/scripts.js"></script>
<!-- Bootstrap Core JavaScript -->
   <script src="js/bootstrap.min.js"></script>
   <!-- /Bootstrap Core JavaScript -->	   
<script src="js/angular.min.js"></script>
	  
	  <!-- controller app -->
	  <script>
var app = angular.module('my-app', []);

app.controller("my-controller", function ($scope, $http, $window) {
  $scope.name = "world";
  //$scope.mydate = new Date("2015-07-08T15:10:10.530Z");
  $scope.createLoan= function(){
  
  var startdate = $scope.startdate;
   var enddate = $scope.enddate;
   var cid = $scope.cid;
  //no of days diffrence
  var installementtype = $scope.installementtype;
  var weekly;
  var monthly;var n;var daily;var biweekly;var bimonthly;var quaterly;var halfyearly;var yearly;
   
	  var date1 = new Date(startdate);
	var date2 = new Date(enddate);
	 var startdate = new Date(startdate);
	var enddate = new Date(enddate);
	 $scope.startdate = new Date(startdate);
	$scope.enddate = new Date(enddate);
	
    var timeDiff = Math.abs(date2.getTime() - date1.getTime());
	
var dayDifference = Math.ceil(timeDiff / (1000 * 3600 * 24));
$scope.dayDifference = Math.ceil(timeDiff / (1000 * 3600 * 24));
//console.log( dayDifference);
$scope.loan_id  = Math.floor(Math.random()*(1000000000-1))+1;
//weekly  weekly weekly weekly weekly weekly weekly weekly weekly weekly
  if(installementtype == 'weekly'){
n = parseInt(dayDifference/7);
$scope.noofinstallement = n;
console.log(Math.ceil(n));
var mydate = [];

//$scope.mydate = [];
//alldates.push(new Date(date1));
	for(var i=0; i<n;i++){
startdate.setDate(startdate.getDate() + parseInt(7)); 
    var dd = startdate.getDate();  
    var mm = startdate.getMonth() + 1;
    var y = startdate.getFullYear();
	var startdates = mm + '/' + dd + '/' + y;
 mydate.push(startdates);
//console.log(mydate.push(new Date(startdate)));
}
 $http.post('http://localhost:3008/api/loanusers', {
            
			
			  'loan_id': $scope.loan_id,
            'loan_amount': $scope.loan_amount,
			'startdate': $scope.startdate,
			'enddate':$scope.enddate,
			
			'installementtype': $scope.installementtype,
			'noofinstallement': $scope.noofinstallement,
			'interest': $scope.interest,
			'cid': JSON.stringify(cid),
			'trepayamount': $scope.trepayamount,
			'installement_amount': $scope.installement_amount,
                'dayDifference':$scope.dayDifference, 
            'mydate' :$scope.mydate
            
        })
		 .then(function (response) {
              
					$scope.newdate = response.data.mydate;
					  var host = $window.location.host;
        var landingUrl = "http://" + host + "/userprofile";
     
        //alert(landingUrl);
        $window.location.href = landingUrl;
				
            })
		/*	$http.post('http://localhost:3008/api/insertarray', {
                       'loan_id': $scope.loan_id,
            'mydate' : mydate
            
        })
		 .then(function (response) {
              

				
            })*/
			// monthlymonthlymonthlymonthlymonthlymonthlymonthlymonthlymonthlymonthly
 }else    if(installementtype == 'monthly'){
n = parseInt(dayDifference/30);
$scope.noofinstallement = n;
//console.log(Math.ceil(n));
var mydate = [];

//$scope.mydate = [];
//alldates.push(new Date(date1));
	for(var i=0; i<n;i++){
startdate.setDate(startdate.getDate() + parseInt(30)); 
    var dd = startdate.getDate();  
    var mm = startdate.getMonth() + 1;
    var y = startdate.getFullYear();
	var startdates = mm + '/' + dd + '/' + y;
 mydate.push(startdates);
//console.log(mydate.push(new Date(startdate)));
}
  $http.post('http://localhost:3008/api/loanusers', {
            
			
			  'loan_id': $scope.loan_id,
            'loan_amount': $scope.loan_amount,
			'startdate': $scope.startdate,
			'enddate':$scope.enddate,
			
			'installementtype': $scope.installementtype,
			'noofinstallement': $scope.noofinstallement,
			'interest': $scope.interest,
			'cid': JSON.stringify(cid),
			'trepayamount': $scope.trepayamount,
			'installement_amount': $scope.installement_amount,
                'dayDifference':$scope.dayDifference,  
            'mydate' :$scope.mydate
            
        })
		 .then(function (response) {
              
					$scope.newdate = response.data.mydate;
					  var host = $window.location.host;
        var landingUrl = "http://" + host + "/userprofile";
     
        //alert(landingUrl);
        $window.location.href = landingUrl;
				
            })
		/*	$http.post('http://localhost:3008/api/insertarray', {
                       'loan_id': $scope.loan_id,
            'mydate' : mydate
            
        })
		 .then(function (response) {
              

				
            })*/
			//dailydailydailydailydailydailydailydailydailydailydailydailydailydailydailydaily
 }else    if(installementtype == 'daily'){
n = parseInt(dayDifference/1);
$scope.noofinstallement = n;
console.log(Math.ceil(n));
var mydate = [];

//$scope.mydate = [];
//alldates.push(new Date(date1));
	for(var i=0; i<n;i++){
startdate.setDate(startdate.getDate() + parseInt(1)); 
    var dd = startdate.getDate();  
    var mm = startdate.getMonth() + 1;
    var y = startdate.getFullYear();
	var startdates = mm + '/' + dd + '/' + y;
 mydate.push(startdates);
//console.log(mydate.push(new Date(startdate)));
}
  $http.post('http://localhost:3008/api/loanusers', {
            
			
			  'loan_id': $scope.loan_id,
            'loan_amount': $scope.loan_amount,
			'startdate': $scope.startdate,
			'enddate':$scope.enddate,
			
			'installementtype': $scope.installementtype,
			'noofinstallement': $scope.noofinstallement,
			'interest': $scope.interest,
			'cid': JSON.stringify(cid),
			'trepayamount': $scope.trepayamount,
			'installement_amount': $scope.installement_amount,
                'dayDifference':$scope.dayDifference,
            'mydate' :$scope.mydate
            
        })
		 .then(function (response) {
              
					$scope.newdate = response.data.mydate;
					  var host = $window.location.host;
        var landingUrl = "http://" + host + "/userprofile";
     
        //alert(landingUrl);
        $window.location.href = landingUrl;
				
            })
				$http.post('http://localhost:3008/api/insertmydate', {
                    //   'loan_id': $scope.loan_id,
            'mydate' : mydate
            
        })
		 .then(function (response) {
              

				
            })
			//biweeklybiweeklybiweeklybiweeklybiweeklybiweeklybiweeklybiweeklybiweeklybiweekly
 }else    if(installementtype == 'biweekly'){
n = parseInt(dayDifference/14);
$scope.noofinstallement = n;
console.log(Math.ceil(n));
var mydate = [];

//$scope.mydate = [];
//alldates.push(new Date(date1));
	for(var i=0; i<n;i++){
startdate.setDate(startdate.getDate() + parseInt(14)); 
    var dd = startdate.getDate();  
    var mm = startdate.getMonth() + 1;
    var y = startdate.getFullYear();
	var startdates = mm + '/' + dd + '/' + y;
 mydate.push(startdates);
//console.log(mydate.push(new Date(startdate)));
}
 $http.post('http://localhost:3008/api/loanusers', {
            
			
			  'loan_id': $scope.loan_id,
            'loan_amount': $scope.loan_amount,
			'startdate': $scope.startdate,
			'enddate':$scope.enddate,
			
			'installementtype': $scope.installementtype,
			'noofinstallement': $scope.noofinstallement,
			'interest': $scope.interest,
			'cid': JSON.stringify(cid),
			'trepayamount': $scope.trepayamount,
			'installement_amount': $scope.installement_amount,
                'dayDifference':$scope.dayDifference  
            'mydate' :$scope.mydate
            
        })
		 .then(function (response) {
              
					$scope.newdate = response.data.mydate;
					  var host = $window.location.host;
        var landingUrl = "http://" + host + "/userprofile";
     
        //alert(landingUrl);
        $window.location.href = landingUrl;
				
            })
		/*	$http.post('http://localhost:3008/api/insertarray', {
                       'loan_id': $scope.loan_id,
            'mydate' : mydate
            
        })
		 .then(function (response) {
              

				
            })*/
			//bimonthlybimonthlybimonthlybimonthlybimonthlybimonthlybimonthlybimonthly
 }else    if(installementtype == 'bimonthly'){
n = parseInt(dayDifference/60);
$scope.noofinstallement = n;
console.log(Math.ceil(n));
var mydate = [];

//$scope.mydate = [];
//alldates.push(new Date(date1));
	for(var i=0; i<n;i++){
startdate.setDate(startdate.getDate() + parseInt(60)); 
    var dd = startdate.getDate();  
    var mm = startdate.getMonth() + 1;
    var y = startdate.getFullYear();
	var startdates = mm + '/' + dd + '/' + y;
 mydate.push(startdates);
//console.log(mydate.push(new Date(startdate)));
}
 $http.post('http://localhost:3008/api/loanusers', {
            
			
			  'loan_id': $scope.loan_id,
            'loan_amount': $scope.loan_amount,
			'startdate': $scope.startdate,
			'enddate':$scope.enddate,
			
			'installementtype': $scope.installementtype,
			'noofinstallement': $scope.noofinstallement,
			'interest': $scope.interest,
			'cid': JSON.stringify(cid),
			'trepayamount': $scope.trepayamount,
			'installement_amount': $scope.installement_amount,
                'dayDifference':$scope.dayDifference  
            'mydate' :$scope.mydate
            
        })
		 .then(function (response) {
              
					$scope.newdate = response.data.mydate;
					  var host = $window.location.host;
        var landingUrl = "http://" + host + "/userprofile";
     
        //alert(landingUrl);
        $window.location.href = landingUrl;
				
            })
		/*	$http.post('http://localhost:3008/api/insertarray', {
                       'loan_id': $scope.loan_id,
            'mydate' : mydate
            
        })
		 .then(function (response) {
              

				
            })*/
			//quaterlyquaterlyquaterlyquaterlyquaterlyquaterlyquaterlyquaterlyquaterlyquaterlyquaterly
 }else    if(installementtype == 'quaterly'){
n = parseInt(dayDifference/90);
$scope.noofinstallement = n;
console.log(Math.ceil(n));
var mydate = [];

//$scope.mydate = [];
//alldates.push(new Date(date1));
	for(var i=0; i<n;i++){
startdate.setDate(startdate.getDate() + parseInt(90)); 
    var dd = startdate.getDate();  
    var mm = startdate.getMonth() + 1;
    var y = startdate.getFullYear();
	var startdates = mm + '/' + dd + '/' + y;
 mydate.push(startdates);
//console.log(mydate.push(new Date(startdate)));
}
 $http.post('http://localhost:3008/api/loanusers', {
            
			
			  'loan_id': $scope.loan_id,
            'loan_amount': $scope.loan_amount,
			'startdate': $scope.startdate,
			'enddate':$scope.enddate,
			
			'installementtype': $scope.installementtype,
			'noofinstallement': $scope.noofinstallement,
			'interest': $scope.interest,
			'cid': JSON.stringify(cid),
			'trepayamount': $scope.trepayamount,
			'installement_amount': $scope.installement_amount,
                'dayDifference':$scope.dayDifference  
            'mydate' :$scope.mydate
            
        })
		 .then(function (response) {
              
					$scope.newdate = response.data.mydate;
					  var host = $window.location.host;
        var landingUrl = "http://" + host + "/userprofile";
     
        //alert(landingUrl);
        $window.location.href = landingUrl;
				
            })
			/*	$http.post('http://localhost:3008/api/insertarray', {
                       'loan_id': $scope.loan_id,
            'mydate' : mydate
            
        })
		 .then(function (response) {
              

				
            })*/
			//halfyearlyhalfyearlyhalfyearlyhalfyearlyhalfyearlyhalfyearlyhalfyearlyhalfyearlyhalfyearlyhalfyearlyhalfyearly
 }else    if(installementtype == 'halfyearly'){
n = parseInt(dayDifference/180);
$scope.noofinstallement = n;
console.log(Math.ceil(n));
var mydate = [];

//$scope.mydate = [];
//alldates.push(new Date(date1));
	for(var i=0; i<n;i++){
startdate.setDate(startdate.getDate() + parseInt(180)); 
    var dd = startdate.getDate();  
    var mm = startdate.getMonth() + 1;
    var y = startdate.getFullYear();
	var startdates = mm + '/' + dd + '/userprofile' + y;
 mydate.push(startdates);
//console.log(mydate.push(new Date(startdate)));
}
 $http.post('http://localhost:3008/api/loanusers', {
            
			
			  'loan_id': $scope.loan_id,
            'loan_amount': $scope.loan_amount,
			'startdate': $scope.startdate,
			'enddate':$scope.enddate,
			
			'installementtype': $scope.installementtype,
			'noofinstallement': $scope.noofinstallement,
			'interest': $scope.interest,
			'cid': JSON.stringify(cid),
			'trepayamount': $scope.trepayamount,
			'installement_amount': $scope.installement_amount,
                'dayDifference':$scope.dayDifference  
            'mydate' :$scope.mydate
            
        })
		 .then(function (response) {
              
					$scope.newdate = response.data.mydate;
					  var host = $window.location.host;
        var landingUrl = "http://" + host + "/userprofile";
     
        //alert(landingUrl);
        $window.location.href = landingUrl;
				
            })
			/*	$http.post('http://localhost:3008/api/insertarray', {
                       'loan_id': $scope.loan_id,
            'mydate' : mydate
            
        })
		 .then(function (response) {
              

				
            })*/
			//yearlyyearlyyearlyyearlyyearlyyearlyyearlyyearlyyearlyyearlyyearlyyearlyyearlyyearly
 }else    if(installementtype == 'yearly'){
n = parseInt(dayDifference/365);
$scope.noofinstallement = n;
console.log(Math.ceil(n));
var mydate = [];

//$scope.mydate = [];
//alldates.push(new Date(date1));
	for(var i=0; i<n;i++){
startdate.setDate(startdate.getDate() + parseInt(365)); 
    var dd = startdate.getDate();  
    var mm = startdate.getMonth() + 1;
    var y = startdate.getFullYear();
	var startdates = mm + '/' + dd + '/' + y;
 mydate.push(startdates);
//console.log(mydate.push(new Date(startdate)));
}
 $http.post('http://localhost:3008/api/loanusers', {
            
			
			  'loan_id': $scope.loan_id,
            'loan_amount': $scope.loan_amount,
			'startdate': $scope.startdate,
			'enddate':$scope.enddate,
			
			'installementtype': $scope.installementtype,
			'noofinstallement': $scope.noofinstallement,
			'interest': $scope.interest,
			'cid': JSON.stringify(cid),
			'trepayamount': $scope.trepayamount,
			'installement_amount': $scope.installement_amount,
                'dayDifference':$scope.dayDifference,  
                 'mydate' :$scope.mydate
            
        })
		 .then(function (response) {
              
					$scope.newdate = response.data.mydate;
					  var host = $window.location.host;
        var landingUrl = "http://" + host + "/userprofile";
     
        //alert(landingUrl);
        $window.location.href = landingUrl;
				
            })
		/*	$http.post('http://localhost:3008/api/insertarray', {
                       'loan_id': $scope.loan_id,
            'mydate' : mydate
            
        })
		 .then(function (response) {
              

				
            })*/
 }
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
  //console.log(startdate);
 /* var numberOfDaysToAdd = 7;
 startdate.setDate(startdate.getDate() + parseInt(numberOfDaysToAdd)); 
    var dd = startdate.getDate();
    var mm = startdate.getMonth() + 1;
    var y = startdate.getFullYear();
	$scope.mydate = mm + '/' + dd + '/' + y;*/
  //console.log(mydate);
 //console.log($scope.newdate);
   
		
 
  
  }
	$http.get('http://localhost:3008/api/registeruser', {
						 						 
					}).then(function (response) {
					
						$scope.newuser= response.data.report;
						 $scope.cid = response.data.report[0].cid;
						//var jsonCars = JSON.stringify(cars);
		

	
})
   
});

</script>

</body>
</html>